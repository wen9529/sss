# 高级十三水 Web 游戏

这是一个模块化的纯 HTML, CSS, 和 JavaScript 实现的十三水（中式扑克）游戏。
使用了 ES6 模块进行代码组织。

## 功能
- **牌组管理**: 创建一副52张扑克牌，洗牌，向玩家派发13张手牌。
- **牌面显示**: 清晰显示玩家手牌和摆牌区的牌。
- **手动摆牌**:
    - 点击选择/取消选择卡牌。
    - 点击目标区域放置卡牌。
    - **拖拽摆牌**: 支持将卡牌从手牌区拖拽到摆牌区，或在摆牌区之间移动。
- **牌型判断**: 实时判断头道、中道、尾道的牌型 (乌龙、对子、两对、三条、顺子、同花、葫芦、铁支、同花顺)。
- **合法性校验**: 自动检测并提示 "倒水" (尾道 < 中道或中道 < 头道)。
- **自动摆牌 (AI)**: 提供一个基础的AI尝试进行合理的摆牌，避免倒水并争取较好牌型。
- **得分提示**: (基础) 显示每道牌型的基础得分潜力 (不含特殊牌型加分和比牌)。
- **游戏状态保存/加载**: 使用浏览器 LocalStorage 自动保存牌局进度，下次打开可继续。
- **重置游戏**: 清除当前牌局，开始新游戏。
- **视觉与音效**: (基础框架)
    - 卡牌选中效果。
    - （可选）基础音效占位。

## 文件结构
- `index.html`: 游戏主页面结构。
- `style.css`: 页面和卡牌样式。
- `js/`: 存放所有 JavaScript 模块。
  - `main.js`: 主程序入口，初始化和协调各模块。
  - `constants.js`: 定义游戏常量。
  - `card.js`: 卡牌类、牌组创建、洗牌、发牌。
  - `ui.js`: DOM操作、渲染、用户交互（点击、拖拽）、消息显示。
  - `handEvaluator.js`: 核心牌型判断逻辑。
  - `arrangement.js`: 摆牌区管理、合法性（倒水）校验。
  - `ai.js`: 自动摆牌（智能摆牌）逻辑。
  - `storage.js`: 使用 LocalStorage 保存和加载游戏状态。
- `images/`: 存放所有扑克牌图片和牌背图片。
- `audio/`: (可选) 存放音效文件。

## 图片命名规范
(同之前)

## 如何运行
1. 克隆或下载此仓库。
2. 确保所有图片按规范放入 `images/` 文件夹。
3. (如果包含音效) 将音效文件放入 `audio/` 文件夹。
4. 用现代浏览器打开 `index.html` 文件 (需要支持 ES6 模块)。
   - **重要**: 由于使用了 ES6 模块，直接通过 `file:///`协议打开 `index.html` 可能无法工作（CORS策略）。你需要通过一个本地服务器来运行它。
     - **简单方法**:
       - 如果你有 Node.js 和 npm: `npm install -g http-server` 然后在项目根目录运行 `http-server`。
       - Python: `python -m http.server` (Python 3) 或 `python -m SimpleHTTPServer` (Python 2)。
       - VS Code: 可以使用 "Live Server" 扩展。

## 未来可扩展
- 完整的多人对战 (需要后端)。
- 更复杂的特殊牌型判断与计分 (一条龙、三同花顺等)。
- 更高级的AI算法。
- 个性化设置（牌面主题、音效开关等）。
